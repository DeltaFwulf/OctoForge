## 23/01/24
To begin i put together a schematic based on the peripheral schematic found in the [ESP32-S3-WROOM-2 Datasheet](https://www.espressif.com/sites/default/files/documentation/esp32-s3-wroom-2_datasheet_en.pdf).

Next was to add the various addition peripherals and sensors. Namely, the thermocouples. For this i followed schematic 1 layout in [A Basic Guide to Thermocouple Measurements](https://www.ti.com/lit/an/sbaa274a/sbaa274a.pdf?ts=1705904504774&ref_url=https%253A%252F%252Fduckduckgo.com%252F#%5B%7B%22num%22%3A57%2C%22gen%22%3A0%7D%2C%7B%22name%22%3A%22XYZ%22%7D%2Cnull%2C739.5%2Cnull%5D). With AIN0 and AIN1 feeding into an [instrumentation amplifier](https://www.electronics-tutorials.ws/opamp/opamp_5.html) to amplify the small voltage difference produced by the thermocouple. 
This layout of thermocouple has built in burn out detection as a burn out would cause the voltage between AIN0 and AIN1 to jump to the voltage across the voltage divider.
To measure the temperature at the tip of a thermocouple both metal wires at the other end must be at an equal and known temperature. The equal part is ensured by the isothermal cold junction block. The known part can be measured with the use of an additional thermistor measuring the temperature at or near the cold junction block. This temperate must be converted to a voltage, then added to the voltage across the thermocouple before that voltage can be converted into a temperature. [Conversion tables can be found here](http://srdata.nist.gov/its90/menu/menu.html).
A rotary encoded can be wired up by pulling terminals A, B, and the push button high and terminal C low. A, B, and the push button can then trigger whatever function on the microcontroller on a low.
## 23/01/24
I am having concerns about the way that power is delivered to both the controller board and the power delivery board.
ATX PSUs have a CPU/EPS 4/8 pin cable have delivering additional 12v power to the power hungry CPU. We could be utilizing this cable to ensure we can deliver the required current to the heating element.
Not only that, but i think that power to the controller board should be coming directly from the PSU and not through the power delivery board. At the moment we are using a 2x3 Molex connection from the power delivery board to the controller. It would be an easy mistake to plug a GPU/PCI-E power cable from the PSU to one of the boards and fry some circuits. As an alternative a Molex power cable could be utilized to power the controller board providing it with 3.3v, 5v, and 12v. All data signals between the controller and power delivery boards can then be handled by a cable type not used by ATX PSUs to avoid potential confusion.
Molex power cables only have 12v and 5v while the ESP32 requires 3.3v. This gives us the opportunity to add a 3.3v linear regulator that can take 5v from either the PSU or the USB making programming that much easier. There's a forum post [here](https://www.electro-tech-online.com/threads/two-input-voltages-into-one-regulator.85325/) detailing how to do something like that safely.
